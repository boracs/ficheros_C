#INCLUDE <STDIO.H>
#INCLUDE <WINDOWS.H>
#INCLUDE <CTYPE.H>  // PARA TOUPPER()


/*
1) ESCRIBIR UN PROGRAMA QUE COPIE UN FICHERO DE ENTRADA EN OTRO DE SALIDA CONVIRTIENDO EN
MAYúSCULAS TODAS LAS LETRAS.

	//INTENTO ABRIR EL ARCHIVO QUE DESEO COPIAR SINO IMPRIMO ERROR.
	//CREO EL ARCHIVO DODNE LO QUIEOR COPIAR SINO IMPRMO ERROR.
	//COJO CARACTER DEL ARCHIVO ORIGINAL Y PASO A MAYUSCULAS.
	//PEGO LA MAYUSCULA Y LA METO EN EL ARCHIVO COPIA;
	//HAGO ESTO MIENTRAS QUE C!= EOF.
	//CIERRO LOS DORS FICHEROS.
*/


// INICIALIZACIO DE LA FUNCION PARA COPIAR EN MAYUSCULAS 
VOID COPIARMAYUSCULAS();

MAIN() {

	SETCONSOLECP(1252);
	SETCONSOLEOUTPUTCP(1252);
	//INVOCO LA FUNCION COPIAR  CON MAYUSCULAS
	COPIARMAYUSCULAS();

}



VOID COPIARMAYUSCULAS() {
    CHAR NOMBREARCHIVOORIGINAL[256];
    CHAR NOMBREARCHIVOCOPIA[256];

    PRINTF("DAME EL NOMBRE DEL ARCHIVO QUE DESEAS COPIAR: ");
    GETS(NOMBREARCHIVOORIGINAL);

    PRINTF("DAME EL NOMBRE EN EL QUE LO QUIERES COPIAR: ");
    GETS(NOMBREARCHIVOCOPIA); 

    FILE* ARCHIVOORIGINAL;
    FILE* ARCHIVOCOPIA;

    // ABRIR ARCHIVO ORIGINAL
    FOPEN_S(&ARCHIVOORIGINAL, NOMBREARCHIVOORIGINAL, "R");
    IF (ARCHIVOORIGINAL == NULL) {
        PRINTF("NO SE PUDO ABRIR EL ARCHIVO ORIGINAL.\N");
        RETURN;
    }

    // ABRIR ARCHIVO DE COPIA
    FOPEN_S(&ARCHIVOCOPIA, NOMBREARCHIVOCOPIA, "W");
    IF (ARCHIVOCOPIA == NULL) {
        PRINTF("NO SE PUDO ABRIR EL ARCHIVO DONDE COPIAR.\N");
        FCLOSE(ARCHIVOORIGINAL);
        RETURN;
    }

    // COPIAR CARACTERES EN MAYúSCULAS
    CHAR C;
    WHILE ((C = FGETC(ARCHIVOORIGINAL)) != EOF) {
        FPUTC(TOUPPER(C), ARCHIVOCOPIA);
    }

    // CERRAR LOS ARCHIVOS
    FCLOSE(ARCHIVOORIGINAL);
    FCLOSE(ARCHIVOCOPIA);

    PRINTF("ARCHIVO COPIADO CORRECTAMENTE EN MAYúSCULAS.\N");
}